package com.cousinware.cwm.hack.exploit;

import com.cousinware.cwm.client.CwmClient;
import com.cousinware.cwm.command.Command;
import com.cousinware.cwm.hack.Hack;
import com.cousinware.cwm.utils.Setting;
import net.minecraft.entity.Entity;
import net.minecraft.entity.vehicle.BoatEntity;
import net.minecraft.network.PacketByteBuf;
import net.minecraft.network.packet.c2s.play.PlayerActionC2SPacket;
import net.minecraft.network.packet.c2s.play.PlayerInteractEntityC2SPacket;
import net.minecraft.network.packet.c2s.play.TeleportConfirmC2SPacket;
import net.minecraft.text.Text;
import net.minecraft.util.Hand;

public class Exploit extends Hack {
    Setting delay;
    public Exploit() {
        super("Test", Category.EXPLOIT, -1);
        CwmClient.settingsManager.rSetting(delay = new Setting("Delay", this, 20, 0, 20, true, "TestDelay", true));

    }
    int i = 0;
    public void onUpdate() {
        i++;
        if (i > delay.getValInt()) {
            for (Entity entity : mc.world.getEntities()) {
                if (entity instanceof BoatEntity) {
                    if (entity.distanceTo(mc.player) < 5) {
                        mc.player.attack(entity);
                        mc.player.tryAttack(entity);
                        mc.player.handleAttack(entity);
                        mc.player.swingHand(Hand.MAIN_HAND);
                        i = 0;
                    }
                }
            }
        }
    }
}
