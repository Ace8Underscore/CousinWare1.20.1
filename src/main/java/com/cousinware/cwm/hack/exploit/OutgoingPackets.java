package com.cousinware.cwm.hack.exploit;

import com.cousinware.cwm.client.CwmClient;
import com.cousinware.cwm.command.Command;
import com.cousinware.cwm.event.PacketEvent;
import com.cousinware.cwm.hack.Hack;
import me.zero.alpine.listener.Listener;
import me.zero.alpine.listener.Subscribe;

public class OutgoingPackets extends Hack {

    public OutgoingPackets() {
        super("OutgoingPackets", Category.EXPLOIT, -1);
    }

    @Subscribe
    private final Listener<PacketEvent.Send> listener = new Listener<>(event -> {
        Command.sendClientSideMessage(event.getPacket().toString());
    });

    public void onEnable() {
        CwmClient.EVENT_BUS.subscribe(listener);
    }

    public void onDisable() {
        CwmClient.EVENT_BUS.unsubscribe(listener);
    }

}


